import{a as x}from"./chunk-XGD5TAAB.js";import{a as N,c as F,d as L,h as M,i as y,j as w,n as k,o as S,q as _,r as G}from"./chunk-JBSZP6WB.js";import{$ as d,B as h,D as i,E as r,F as a,H as p,J as c,T as b,Y as v,_ as C,i as l,m as g,n as m,v as f,w as s}from"./chunk-E7K4ZQHO.js";var B=(()=>{class t{constructor(o,e,n,u){this.router=o,this.title=e,this.formBuilder=n,this.service=u,this.loginFormGroup=this.formBuilder.group({})}ngOnInit(){this.title.setTitle("Login"),this.buildForm()}backButtonClicked(){this.router.navigate(["/welcome"])}buildForm(){this.loginFormGroup=this.formBuilder.group({userName:[""],password:[""]})}loginButtonClicked(){let o=new x;o.userName=this.loginFormGroup.get("userName")?.value,o.password=this.loginFormGroup.get("password")?.value,this.service.login(o).subscribe({next:e=>{console.log("Login successful"),this.service.setLoggedInUser(e.user||e),this.router.navigate(["/home"])},error:e=>{console.error("Login failed",e)}})}static{this.\u0275fac=function(e){return new(e||t)(s(C),s(v),s(S),s(G))}}static{this.\u0275cmp=g({type:t,selectors:[["app-login"]],decls:15,vars:1,consts:[[1,"login-header"],[1,"text-center"],["type","button",1,"btn","back-btn",3,"click"],[1,"bi","bi-arrow-left"],[1,"login",3,"ngSubmit","formGroup"],[1,"mb-3"],["placeholder","Username","type","text","id","userName","formControlName","userName","required","",1,"form-control"],["placeholder","Password","type","password","id","password","formControlName","password","required","",1,"form-control"],["type","submit"]],template:function(e,n){e&1&&(i(0,"div")(1,"div",0)(2,"h1",1),c(3,"Login"),r()(),i(4,"h1")(5,"button",2),p("click",function(){return n.backButtonClicked()}),a(6,"i",3),r()(),i(7,"form",4),p("ngSubmit",function(){return n.loginButtonClicked()}),i(8,"div",5),a(9,"input",6),r(),i(10,"div",5),a(11,"input",7),r(),i(12,"div",5)(13,"button",8),c(14,"Login"),r()()()()),e&2&&(f(7),h("formGroup",n.loginFormGroup))},dependencies:[M,N,F,L,k,y,w],styles:[".back-btn[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;background-color:transparent;border:none;cursor:pointer;font-size:35px}.login-header[_ngcontent-%COMP%]{text-align:left;padding-top:30px;font-size:24px;color:#333}.login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:150px 20px 20px}"]})}}return t})();var R=[{path:"",component:B}],I=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=m({type:t})}static{this.\u0275inj=l({imports:[d.forChild(R),d]})}}return t})();var W=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=m({type:t})}static{this.\u0275inj=l({imports:[b,I,_]})}}return t})();export{W as LoginModule};
